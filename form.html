<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Form Pendaftaran ‚Äî Workshop Muslim Digital Marketing Expert</title>
  <meta name="description" content="Form pendaftaran Workshop Muslim Digital Marketing Expert" />
  <style>
    :root{
      --green: #1f7a4a;
      --green-dark: #145533;
      --accent: #f6c12b;
      --bg: #f7f9f7;
      --card: #ffffff;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,var(--bg),#eef6ef);color:#123;}
    .wrap{max-width:920px;margin:28px auto;padding:20px}
    .card{background:var(--card);border-radius:14px;box-shadow:0 8px 30px rgba(16,40,20,0.08);overflow:hidden}
    header{display:flex;gap:18px;align-items:center;padding:20px}
    .logo{width:96px;height:96px;border-radius:12px;flex:0 0 96px;background:linear-gradient(180deg,var(--green),var(--green-dark));display:flex;align-items:center;justify-content:center;color:white;font-weight:700}
    .head-txt{padding-right:18px}
    .head-txt h1{margin:0;font-size:20px;color:var(--green-dark)}
    .head-txt p{margin:6px 0 0;font-size:13px;color:#245235}
    .content{display:grid;grid-template-columns:1fr 420px;gap:20px;padding:20px}
    @media (max-width:880px){.content{grid-template-columns:1fr;}}
    .left{padding:12px}
    .event-title{font-size:28px;margin:8px 0 6px;color:var(--green-dark);font-weight:700}
    .event-sub{color:#2f6f4a;margin:0 0 12px}
    form{background:linear-gradient(180deg, rgba(31,122,74,0.03), rgba(31,122,74,0.01));padding:16px;border-radius:10px}
    label{display:block;font-size:13px;margin:10px 0 6px;color:#123}
    input[type=text], textarea{width:100%;padding:12px;border:1px solid #d6e6d6;border-radius:8px;font-size:15px}
    textarea{min-height:86px;resize:vertical}
    .actions{display:flex;gap:10px;align-items:center;margin-top:14px}
    .btn{padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:600}
    .btn-primary{background:var(--green);color:white}
    .btn-primary:disabled{opacity:0.7;cursor:not-allowed}
    .right{background:linear-gradient(180deg,#fff,#fbfffb);padding:18px;border-left:6px solid var(--accent);display:flex;flex-direction:column;align-items:center;justify-content:center}
    .right img{width:220px;height:220px;border-radius:50%;object-fit:cover;border:6px solid #fff;box-shadow:0 8px 20px rgba(16,40,20,0.06)}
    .speaker{margin-top:12px;background:var(--accent);padding:8px 12px;border-radius:10px;font-weight:700;color:#153025}
    .meta{margin-top:16px;width:100%;display:flex;flex-direction:column;gap:8px}
    .meta .item{display:flex;gap:10px;align-items:center}
    .meta .dot{width:36px;height:36px;border-radius:10px;background:var(--green);display:flex;align-items:center;justify-content:center;color:white;font-weight:700}
    .success{display:none;background:#e9f9ee;border:1px solid #b9e4c4;padding:10px;border-radius:10px;margin-top:10px;color:var(--green-dark)}
    .error{color:#a10f0f;font-size:13px;margin-top:8px}
    footer{padding:12px 20px;background:linear-gradient(180deg,rgba(31,122,74,0.03),transparent);border-top:1px dashed rgba(31,122,74,0.06);display:flex;justify-content:space-between;align-items:center}
    .muted{color:#2d6b4a;font-size:13px}

    /* üîî Popup sukses */
    .popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.9);
      background: white;
      padding: 28px 36px;
      border-radius: 14px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.2);
      text-align: center;
      transition: all .3s ease;
      z-index: 1000;
      opacity: 0;
      pointer-events: none;
    }
    .popup.show {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
      pointer-events: auto;
    }
    .popup h3 {
      color: var(--green-dark);
      margin-bottom: 10px;
    }
    .popup button {
      margin-top: 12px;
      background: var(--green);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header>
        <div class="logo">AL<br/>KAHFI<br/>512</div>
        <div class="head-txt">
          <h1>Workshop ‚Äî Muslim Digital Marketing Expert</h1>
          <p>MT Al Kahfi 512 ‚Ä¢ Islamic Centre Ngadiluwih</p>
        </div>
      </header>
      <div class="content">
        <div class="left">
          <p class="event-title">Daftar Peserta</p>
          <p class="event-sub">Silakan isi data lengkap: Nama, No. HP, dan Alamat.</p>
          <form id="regForm" autocomplete="off">
            <label for="nama">Nama</label>
            <input id="nama" name="nama" type="text" placeholder="Nama lengkap" required />
            <label for="hp">No. HP</label>
            <input id="hp" name="hp" type="text" placeholder="08xxxxxxxxxx" inputmode="tel" required />
            <label for="alamat">Alamat</label>
            <textarea id="alamat" name="alamat" placeholder="Alamat lengkap (desa/kecamatan/kab)" required></textarea>
            <div class="actions">
              <button id="submitBtn" type="submit" class="btn btn-primary">Daftar Sekarang</button>
            </div>
            <div id="err" class="error" aria-live="polite"></div>
          </form>
        </div>
        <aside class="right">
          <img src="pict.jpg" alt="Speaker" />
          <div class="speaker">Speaker: Dr. Bambang Eka P.</div>
          <div class="meta">
            <div class="item"><div class="dot">üìÖ</div><div><strong>9 November, 2025</strong><div class="small">19.30 WIB</div></div></div>
            <div class="item"><div class="dot">üìç</div><div><strong>Islamic Centre Ngadiluwih</strong><div class="small">Karanganyar</div></div></div>
            <div class="item"><div class="dot">‚òé</div><div><strong>CP: 0856-0034-6455</strong><div class="small">(Azminudin Latif)</div></div></div>
          </div>
        </aside>
      </div>
      <footer>
        <div class="muted">MT Al Kahfi 512 ‚Ä¢ Workshop Registration Form</div>
        <div class="muted small"><a href="https://github.com/sukabiru">Sukabiru</a></div>
      </footer>
    </div>
  </div>

  <!-- üîî Popup notifikasi -->
  <div id="popup" class="popup">
    <h3>‚úÖ Pendaftaran Berhasil!</h3>
    <p>Terima kasih telah mendaftar.<br>Data Anda telah tersimpan.</p>
    <button onclick="closePopup()">Tutup</button>
  </div>

  <script>
    const form = document.getElementById('regForm');
    const err = document.getElementById('err');
    const popup = document.getElementById('popup');
    const submitBtn = document.getElementById('submitBtn');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      err.textContent = '';
      submitBtn.disabled = true;
      submitBtn.textContent = 'Mengirim...';

      const nama = form.nama.value.trim();
      const hp = form.hp.value.trim();
      const alamat = form.alamat.value.trim();

      if (!nama || !hp || !alamat) {
        err.textContent = 'Semua kolom harus diisi.';
        submitBtn.disabled = false;
        submitBtn.textContent = 'Daftar Sekarang';
        return;
      }

      const data = new FormData();
      data.append('nama', nama);
      data.append('hp', hp);
      data.append('alamat', alamat);

      try {
        await fetch('https://script.google.com/macros/s/AKfycbxWcXcueOP2CsWhTKVQ7A-s3qPqenWhneSqBio8jVVua3SVu9yLV-DpsXJAibdssmbl/exec', {
          method: 'POST',
          mode: 'no-cors',
          body: data
        });

        form.reset();
        showPopup();
      } catch (e) {
        err.textContent = 'Gagal mengirim data, coba lagi.';
      }

      submitBtn.disabled = false;
      submitBtn.textContent = 'Daftar Sekarang';
    });

    function showPopup() {
      popup.classList.add('show');
      setTimeout(closePopup, 4000);
    }
    function closePopup() {
      popup.classList.remove('show');
    }
  </script>
</body>
</html>
